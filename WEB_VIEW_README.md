# MCP Security Framework - Web View

A secure web interface for running assessments and viewing reports generated by the MCP Security Framework.

## Features

- **Run Assessments**: Run security assessments directly from the web UI
- **AMSAW v2 Integration**: Automatically sandboxes npm/GitHub/local MCP sources
- **Live Progress**: Real-time assessment progress and logs
- **View Reports**: Browse and view all assessment reports
- **Secure by default**: Binds to localhost (127.0.0.1) only
- **Modern UI**: Clean, responsive interface

## Installation

The web view requires Flask. Install it using:

```bash
pip install flask>=3.0.0
```

Or install all dependencies from pyproject.toml:

```bash
pip install -e .
```

## Usage

### Basic Usage

Start the web view server:

```bash
python web_view.py
```

Then open your browser to: http://127.0.0.1:5000

### Custom Port

Run on a different port:

```bash
python web_view.py --port 8080
```

### Custom Reports Directory

Point to a different reports directory:

```bash
python web_view.py --reports-dir ./my-reports
```

### Network Access (Not Recommended)

By default, the web view only binds to localhost for security. If you need network access (e.g., for remote viewing), you can bind to all interfaces:

```bash
python web_view.py --host 0.0.0.0
```

**Warning**: Only use `--host 0.0.0.0` if you understand the security implications. The web view has no authentication, so anyone on your network could access it.

## How It Works

### Viewing Reports

1. The web view reads reports from the `reports/` directory (or a custom directory you specify)
2. It displays a list of all available assessment reports
3. Click on any report to view detailed information including:
   - Assessment metadata
   - Server profile information
   - Detection results with vulnerabilities
   - Signals and proof of concepts
   - Summary statistics

### Running Assessments

1. Navigate to the "Run Assessment" page
2. Enter any MCP source:
   - **npm package**: `@modelcontextprotocol/server-time`
   - **GitHub repo**: `https://github.com/modelcontextprotocol/servers/tree/main/src/time`
   - **Local path**: `targets/vulnerable/dv-mcp/challenges/easy/challenge1`
   - **Already running**: `http://localhost:9001/sse` (legacy mode)
3. Select assessment mode (safe/balanced/aggressive)
4. Click "Run Assessment" and watch live progress
5. View results automatically when complete

## Security Considerations

- **Localhost only**: By default, the server only accepts connections from localhost
- **Read-only**: The web view never modifies reports or files
- **Path traversal protection**: Input validation prevents directory traversal attacks
- **No authentication**: The web view is designed for local use only

## Integration with CLI

The web view uses the same AMSAW v2 pipeline as the CLI tool. You can:

1. Run assessments from either CLI or Web UI
2. View results in either interface
3. Both tools can run simultaneously without conflicts

The CLI and Web UI share the same reports directory.

## API Endpoints

The web view provides JSON API endpoints:

**Reports:**
- `GET /api/reports` - List all reports
- `GET /api/report/<report_id>` - Get a specific report as JSON
- `GET /api/report/<report_id>/sarif` - Get SARIF format report

**Assessments:**
- `POST /api/assess` - Start a new assessment
  - Body: `{"target": "<source>", "mode": "balanced"}`
  - Returns: `{"assessment_id": "...", "status": "started"}`
- `GET /api/assess/<assessment_id>/status` - Check assessment progress
  - Returns: `{"status": "running", "progress": 45, "message": "...", "logs": [...]}`

These can be useful for integration with other tools or scripts.

